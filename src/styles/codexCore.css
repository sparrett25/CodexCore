.codex-core-container {
  position: relative;
  width: 100%;
  height: 100vh;
  background: #0a0a0a;
  overflow: hidden;
  z-index: 1;
}

.codex-core-spiral {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 1520px;
  height: 1520px;
  transform: translate(-50%, -50%);
  background: url('/assets/spiral-core.png') no-repeat center center;
  background-size: contain;
  filter: brightness(0.8) saturate(1.2);
  opacity: 0.6;
  pointer-events: none;
}

.module-node {
  position: absolute;
  transform: translate(-50%, -50%);
  text-align: center;
  cursor: pointer;
  color: #fff;
  font-family: 'Georgia', serif;
  transition: transform 0.2s, opacity 0.2s;
}

.module-node:hover {
  transform: translate(-50%, -50%) scale(1.1);
}

.module-node.disabled {
  opacity: 0.4;
  pointer-events: none;
}

.module-node .module-glyph {
  font-size: 1.8rem;
  margin-bottom: 0.2rem;
}

.module-node .module-title {
  font-size: 0.85rem;
  opacity: 0.9;
}

.second-orbit {
  opacity: 0.85;
  font-style: italic;
}

.codex-core-center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-family: 'Georgia', serif;
  font-size: 1.8rem;
  color: #ddeaff;
  text-shadow: 0 0 8px #5584ff;
  opacity: 0.8;
  z-index: 2;
  animation: core-pulse 6s infinite ease-in-out;
  pointer-events: none;
}

@keyframes core-pulse {
  0%, 100% {
    opacity: 0.7;
    transform: translate(-50%, -50%) scale(1);
    text-shadow: 0 0 8px #4466cc;
  }
  50% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1.06);
    text-shadow: 0 0 14px #aaccff;
  }
}

/* ===== Shared motion helpers ===== */
@keyframes twinkle {
  0%, 100% { filter: drop-shadow(0 0 6px rgba(200,220,255,.35)); opacity: .95; }
  50%      { filter: drop-shadow(0 0 12px rgba(220,240,255,.75)); opacity: 1; }
}
@keyframes coronaPulse {
  0%, 100% { transform: scale(1); filter: drop-shadow(0 0 8px rgba(255,225,160,.45)); }
  50%      { transform: scale(1.06); filter: drop-shadow(0 0 16px rgba(255,235,180,.85)); }
}
@keyframes crescentDrift {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  50%      { transform: translateY(-2px) rotate(.5deg); }
}
@keyframes cometTrail {
  0%   { transform: translateX(0); filter: drop-shadow(0 0 6px rgba(210,245,255,.4)); opacity: .95; }
  50%  { transform: translateX(2px); filter: drop-shadow(0 0 14px rgba(230,255,255,.8)); opacity: 1; }
  100% { transform: translateX(0); }
}
@keyframes orbitGlow {
  0%, 100% { transform: rotate(0deg) scale(1); filter: drop-shadow(0 0 8px rgba(190,180,255,.45)); }
  50%      { transform: rotate(2deg) scale(1.04); filter: drop-shadow(0 0 14px rgba(210,205,255,.75)); }
}

/* Hover shimmer applied to all glyphs */
.module-node:hover .glyph-img {
  transform: scale(1.08);
  filter: drop-shadow(0 0 12px rgba(210,230,255,.7));
}

/* ===== Per-glyph idle signatures ===== */
.module-node[data-key="scroll_grove"] .glyph-img {       /* constellation */
  animation: twinkle 5.6s ease-in-out infinite;
}

.module-node[data-key="codex_ember"] .glyph-img {        /* corona star */
  animation: coronaPulse 4.8s ease-in-out infinite;
  transform-origin: 50% 50%;
}

.module-node[data-key="lumina_journal"] .glyph-img {     /* crescent planet */
  animation: crescentDrift 7.2s ease-in-out infinite;
  transform-origin: 50% 60%;
}

.module-node[data-key="codex_reels"] .glyph-img {        /* comet */
  animation: cometTrail 3.8s ease-in-out infinite;
}

.module-node[data-key="codex_lumina"] .glyph-img {       /* radiant core */
  animation: orbitGlow 6.4s ease-in-out infinite;
  transform-origin: 50% 50%;
}

/* Optional: respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .module-node .glyph-img { animation: none !important; }
}


/* --- Click ripple on glyph --- */
.module-node { position: absolute; transform: translate(-50%, -50%); }
.module-node .ripple {
  position: absolute;
  top: 50%; left: 50%;
  width: 10px; height: 10px;
  border-radius: 9999px;
  background: rgba(220,235,255,.55);
  transform: translate(-50%, -50%) scale(1);
  pointer-events: none;
  animation: rippleOut .45s ease-out forwards;
}
@keyframes rippleOut {
  to {
    opacity: 0;
    transform: translate(-50%, -50%) scale(36);
    background: rgba(220,235,255,.0);
  }
}

/* --- Full-screen portal fade (on navigation) --- */
.page-transition {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 5;
  background: radial-gradient(60% 60% at 50% 50%, rgba(180,190,255,.16), rgba(10,10,20,.85));
  opacity: 0;
  transform: scale(1);
}
.page-transition.active {
  animation: portalFade .42s ease-out forwards;
}
@keyframes portalFade {
  to { opacity: 1; transform: scale(1.02); }
}

/* page enters softly after navigation */
.page-enter {
  opacity: 0;
  transform: scale(0.985);
  animation: pageIn 360ms ease-out forwards;
}
@keyframes pageIn {
  to { opacity: 1; transform: scale(1); }
}
/* respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .page-enter { animation: none; opacity: 1; transform: none; }
}
